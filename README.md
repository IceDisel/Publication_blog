# Платформа для публикации платного контента
### Платформа цифрового издательства для всех

### Цель проекта:

Реализовать платформу для публикации записей пользователями. Публикация может быть бесплатной, доступной любому пользователю без регистрации, либо платной, доступной только авторизованным пользователям, которые оплатили разовую подписку. Для реализации оплаты подписки используйте Stripe. Регистрация пользователя должна быть по номеру телефона. Платформа должна иметь фронтенд в виде шаблонов с использованием Bootstrap.

## Для запуска проекта необходимо склонировать содержимое репозетория и установить зависимости.
* Создать базу данных
* В файл .env внести данные настроек конфигурации в соответствии с .env_sample
* Создать и применить миграции python manage.py migrate


### Как установить
Для того чтобы запустить программу, вам нужно будет установить [PostgreSQL](https://www.postgresql.org/download/), во время установки указать пароль для подключения к БД.
Данный пароль надо будет указать в файле `.env`, а также имя БД. Файл можно создать самому или переименовать существующий `.env_sample` в `.env`

Рекомендуется использовать POETRY для изоляции проекта.

Python3.10 уже должен быть установлен,
затем используйте poetry для установки зависимостей

### Как запустить 
Для того чтобы запустить код, в консоли нужно прописать `cd` и название папки, в которой находится проект. После этого нужно прописать `python manage.py runserver`.

Пример запуска:
```
python manage.py runserver
```

Для создания учетной записи администратора (суперпользователя) выполнить следующую команду

    python manage.py csu

### Stripe
Для осуществления оплаты подписки реализована интеграция со Stripe. Чтобы начать пользоваться ею, вам необходимо заполнить в .env поле STRIPE_API - ваш секретный API ключ.

https://docs.stripe.com/api

### SmsAero
Для осуществления верификации номера телефона пользователя при регистрации реализована интеграция с SmsAero. Чтобы начать пользоваться ею, вам необходимо заполнить в .env SMSAERO_EMAIL и SMSAERO_API_KEY.

https://smsaero.ru/integration/class/python/

### Как запустить проект с помощью Docker-compose:

В терминале набираем команду

        docker-compose build

docker-compose build — позволяет обновить образы или создать их заново, если они были изменены;

Далее набираем команду

        docker-compose up

docker-compose up — запускает приложение со всеми контейнеры, информация о которых есть в docker-compose.yml. Если файл
не указан, по умолчанию используется файл в текущем каталоге

Остальные команды для DOCKER которыми вы можете воспользоваться в своем проекте.

        docker-compose restart

Docker-compose restart — перезапускает контейнеры;

        docker-compose logs

Docker-compose logs — выводит журналы состояния;

        docker-compose ps

Docker-compose ps — отображает текущее состояние контейнеров.

        docker-compose down

Docker-compose down — останавливает и удаляет все контейнеры, а также тома, связанные с ними.

        docker-compose start

Docker-compose start — запускает остановленные контейнеры.

        docker-compose stop

Docker-compose stop — останавливает работу запущенных контейнеров без их удаления.

        docker-compose restart

Docker-compose restart — перезапускает контейнеры.

        docker-compose pull

Docker-compose pull — загружает последние версии образов для сервисов, описанных в файле docker-compose.yaml



### Цель проекта
Код написан в образовательных целях.
